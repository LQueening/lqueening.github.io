<!DOCTYPE html>
<html lang="zh-CN">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="keywords" content="liaokun,baba,blog,å»–é”Ÿ,å·´å·´,åšå®¢,fe,frontend,å‰ç«¯,æŠ€æœ¯">
    <meta name="description" content="å»–é”Ÿçš„åšå®¢">
    <meta name="author" content="å»–é”Ÿ">
    <meta name="robots" content="index,follow">
    <meta name="google" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="verify" content="index,follow">
    <meta name="baidu-site-verification" content="Y0SDoDGObn">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="æ–‡ç« ç»“æ„

å¼•ç”¨
ä»€ä¹ˆæ˜¯èŒè´£é“¾æ¨¡å¼
èŒè´£é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯
ä¸€ä¸ªç®€å•çš„ä¾‹å­
åœ¨ä¸šåŠ¡ä»£ç ä¸­çš„åº”ç”¨
è¿™â€¦è¿™å¯å°±å°´å°¬äº†


å¼•ç”¨ä¸€ä¸ªèŒè´£é“¾åº”ç”¨çš„ä¾‹å­
å¦‚ä½•æ— ç—›é™ä½ if else é¢æ¡ä»£ç å¤æ‚åº¦
ä»€ä¹ˆæ˜¯èŒè´£é“¾æ¨¡å¼wikipedia: è´£ä»»é“¾æ¨¡å¼åœ¨ç‰©ä»¶å¯¼å‘ç¨‹å¼è®¾è®¡é‡Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒåŒ…å«äº†ä¸€äº›å‘½ä»¤å¯¹è±¡å’Œä¸€">
    

    <!--Author-->
    
        <meta name="author" content="Liao Kun/å»–é”Ÿ">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="å­¦ä¹ èŒè´£é“¾æ¨¡å¼(Chain of Responsibility Pattern)">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="å·´å·´çš„åšå®¢">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>å­¦ä¹ èŒè´£é“¾æ¨¡å¼(Chain of Responsibility Pattern) - å·´å·´çš„åšå®¢</title>

    <!-- Bootstrap Core CSS -->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.min.js"></script>
    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="https://cdn.bootcss.com/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Google Analytics -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109257278-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-109257278-1');
    </script>


    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?c5bbdc67b659208066b3bc734cced61c";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


    <!-- favicon -->
    
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <!--<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">-->
                <!--<span class="sr-only">Toggle navigation</span>-->
                <!--<span class="icon-bar"></span>-->
                <!--<span class="icon-bar"></span>-->
                <!--<span class="icon-bar"></span>-->
            <!--</button>-->
            <a class="navbar-brand" href="/">home</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!--<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">-->
            <!--<ul class="nav navbar-nav navbar-right">-->
                <!---->
                    <!--<li>-->
                        <!--<a href="/">-->
                            <!---->
                                <!--Home-->
                            <!---->
                        <!--</a>-->
                    <!--</li>-->
                <!---->
                    <!--<li>-->
                        <!--<a href="/archives">-->
                            <!---->
                                <!--Archives-->
                            <!---->
                        <!--</a>-->
                    <!--</li>-->
                <!---->
                    <!--<li>-->
                        <!--<a href="/tags">-->
                            <!---->
                                <!--Tags-->
                            <!---->
                        <!--</a>-->
                    <!--</li>-->
                <!---->
                    <!--<li>-->
                        <!--<a href="/categories">-->
                            <!---->
                                <!--Categories-->
                            <!---->
                        <!--</a>-->
                    <!--</li>-->
                <!---->
                    <!--<li>-->
                        <!--<a href="https://github.com/klugjo/hexo-theme-clean-blog">-->
                            <!---->
                                <!--<i class="fa fa-github fa-stack-2x"></i>-->
                            <!---->
                        <!--</a>-->
                    <!--</li>-->
                <!---->
            <!--</ul>-->
        <!--</div>-->
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('https://wx4.sinaimg.cn/large/005Kh0ZYly1fhtsaauieoj30ru0bhdhb.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>å­¦ä¹ èŒè´£é“¾æ¨¡å¼(Chain of Responsibility Pattern)</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2017-10-29
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/å‰ç«¯/">#å‰ç«¯</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                        

<a href="/categories/æŠ€æœ¯/">æŠ€æœ¯</a>

                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h2 id="æ–‡ç« ç»“æ„"><a href="#æ–‡ç« ç»“æ„" class="headerlink" title="æ–‡ç« ç»“æ„"></a>æ–‡ç« ç»“æ„</h2><blockquote>
<ul>
<li>å¼•ç”¨</li>
<li>ä»€ä¹ˆæ˜¯èŒè´£é“¾æ¨¡å¼</li>
<li>èŒè´£é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯</li>
<li>ä¸€ä¸ªç®€å•çš„ä¾‹å­</li>
<li>åœ¨ä¸šåŠ¡ä»£ç ä¸­çš„åº”ç”¨</li>
<li>è¿™â€¦è¿™å¯å°±å°´å°¬äº†</li>
</ul>
</blockquote>
<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="https://div.io/topic/1800" target="_blank" rel="noopener">ä¸€ä¸ªèŒè´£é“¾åº”ç”¨çš„ä¾‹å­</a></p>
<p><a href="https://juejin.im/post/59dc66256fb9a0452a3b4832" target="_blank" rel="noopener">å¦‚ä½•æ— ç—›é™ä½ if else é¢æ¡ä»£ç å¤æ‚åº¦</a></p>
<h2 id="ä»€ä¹ˆæ˜¯èŒè´£é“¾æ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯èŒè´£é“¾æ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯èŒè´£é“¾æ¨¡å¼"></a>ä»€ä¹ˆæ˜¯èŒè´£é“¾æ¨¡å¼</h2><p><a href="https://zh.wikipedia.org/zh-hans/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener"><strong>wikipedia:</strong></a> è´£ä»»é“¾æ¨¡å¼åœ¨ç‰©ä»¶å¯¼å‘ç¨‹å¼è®¾è®¡é‡Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒåŒ…å«äº†ä¸€äº›å‘½ä»¤å¯¹è±¡å’Œä¸€ç³»åˆ—çš„å¤„ç†å¯¹è±¡ã€‚æ¯ä¸€ä¸ªå¤„ç†å¯¹è±¡å†³å®šå®ƒèƒ½å¤„ç†å“ªäº›å‘½ä»¤å¯¹è±¡ï¼Œå®ƒä¹ŸçŸ¥é“å¦‚ä½•å°†å®ƒä¸èƒ½å¤„ç†çš„å‘½ä»¤å¯¹è±¡ä¼ é€’ç»™è¯¥é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†å¯¹è±¡ã€‚è¯¥æ¨¡å¼è¿˜æè¿°äº†å¾€è¯¥å¤„ç†é“¾çš„æœ«å°¾æ·»åŠ æ–°çš„å¤„ç†å¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<p><strong>å®šä¹‰</strong>ï¼šä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚</p>
<p><strong>è¯´äººè¯</strong>ï¼šé€šè¿‡é“¾å¼è°ƒç”¨é™ä½è¯·æ±‚çš„å‘é€è€…å’Œå„ä¸ªæ¥æ”¶/å¤„ç†è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚</p>
<h2 id="èŒè´£é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯"><a href="#èŒè´£é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯" class="headerlink" title="èŒè´£é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯"></a>èŒè´£é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯</h2><p>ç”±äºèŒè´£é“¾æ¨¡å¼å¯ä»¥è®©ä¸€ä¸ªè¯·æ±‚è¢«å¤šä¸ªå¯¹è±¡æ¥æ”¶(???ä¸å°±æ˜¯å¯ä»¥è®©<strong>å„ä¸ªå‡½æ•°éƒ½æœ‰æœºä¼šæ‰§è¡Œ</strong>)ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼æ¥è§£å†³ä»£ç ä¸­å¤§é‡çš„if/elseåµŒå¥—çš„é—®é¢˜ã€‚</p>
<h2 id="ä¸€ä¸ªç®€å•çš„ä¾‹å­"><a href="#ä¸€ä¸ªç®€å•çš„ä¾‹å­" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ä¾‹å­"></a>ä¸€ä¸ªç®€å•çš„ä¾‹å­</h2><p>å°±æ˜¯é‚£ä¸ªéšä¾¿çœ‹å“ªç¯‡èŒè´£é“¾æ¨¡å¼éƒ½ä¼šä¸¾åˆ°çš„ä¹°æ‰‹æœºçš„ä¾‹å­ã€‚ä¹°æ‰‹æœºçš„æ—¶å€™å¯ä»¥ä¸‹è®¢å•ä»˜å®šé‡‘ï¼Œä¹‹åé€šè¿‡å­˜åº“æ¥ç¡®å®šèƒ½å¦æˆåŠŸä¹°åˆ°æ‰‹æœº(<del>MI BOYå¼è¥é”€</del>)ã€‚å…·ä½“å­—æ®µå¦‚ä¸‹ï¼š</p>
<p>orderType:  1/2/0  //è®¢å•ç±»å‹ï¼Œç”¨äºåŒºåˆ†ç”¨æˆ·çš„è®¢å• 1:500å®šé‡‘ï¼Œ2:200å®šé‡‘ï¼Œ0:æœªæ”¯ä»˜å®šé‡‘</p>
<p>pay:  0/1  //æ”¯ä»˜çŠ¶æ€ï¼Œç”¨äºåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ”¯ä»˜è®¢å•</p>
<p>stock:  [number]  //åº“å­˜</p>
<p>å½“ç”¨æˆ·å‘ç”Ÿè´­ä¹°æ—¶ä¼ªä»£ç å°±å¦‚ä¸‹äº†ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (orderType === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (pay) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK! get ï¿¥500"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (stock &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"It's OK!"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"not OK!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (orderType === <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (pay) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK! get ï¿¥200"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (stock &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"It's OK!"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"not OK!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (stock &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"not OK!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><del>è¿™é‡Œå°±åº”è¯¥æŠŠæ™®é€šç”¨æˆ·çš„å¤„ç†é€»è¾‘æŠ½å–å‡ºæ¥å½“åšå•ç‹¬çš„å‡½æ•°äº†å§ï¼Œé‚£æ ·å…¶å®é€»è¾‘ä¹Ÿä¸ä¼šç‰¹åˆ«å¤æ‚</del></p>
<p>ä¸Šé¢ä»£ç çœ‹èµ·æ¥å°±å¾ˆç¹çï¼Œå°±åƒæ˜¯è¿™æ ·</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/10/10/32cd82240f1dc4391d319bac3597bc35?imageView2/0/w/1280/h/960/ignore-error/1" alt="ç¤ºä¾‹å›¾"></p>
<p>å¦‚æœä½¿ç”¨èŒè´£é“¾æ¨¡å¼æ”¹å†™ï¼Œå°±æ˜¯å°†å„ä¸ª<code>if</code> <code>else</code>çš„é€»è¾‘æŠ½å–å‡ºæ¥å½“åšä¸€ä¸ªä¸ªçš„èŠ‚ç‚¹ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹ä¸æ»¡è¶³æ‰§è¡Œæ¡ä»¶æ—¶å°±è°ƒç”¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚è¿™é‡Œå®šä¹‰ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">order500 = <span class="function"><span class="keyword">function</span>(<span class="params">orderType, pay, stock</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (orderType === <span class="number">500</span> &amp;&amp; pay) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK! get ï¿¥500"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        order200(orderType, pay, stock);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">order500(<span class="number">500</span>,<span class="number">1</span>,<span class="number">0</span>);  <span class="comment">//example</span></span><br></pre></td></tr></table></figure></p>
<p>é€šè¿‡å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å®ç°if/elseåˆ¤æ–­çš„æ‹†åˆ†ã€‚<br>ä¸ºäº†ä¾¿äºä¹‹åä»£ç çš„ç»´æŠ¤ï¼Œè¿˜éœ€è¦å°†å‡½æ•°å’Œå‡½æ•°ä¹‹é—´çš„è€¦åˆè§£å¼€ã€‚å› æ­¤åœ¨å„ä¸ªå‡½æ•°ä¸æ»¡è¶³ifæ¡ä»¶æ—¶è¿”å›å›ºå®šçš„å€¼ï¼Œæ ¹æ®è¯¥å€¼æ¥åˆ¤æ–­æ˜¯å¦ä¼ é€’è¯·æ±‚ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> order500 = <span class="function">(<span class="params">orderType, pay, stock</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (orderType === <span class="number">1</span> &amp;&amp; pay) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK! get ï¿¥500"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'nextSuccessor'</span>; <span class="comment">//å¦‚æœå¤±è´¥å°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªæ‰§è¡Œè€…ï¼Œæ— éœ€å…³æ³¨å…·ä½“æ˜¯å“ªä¸€ä¸ª</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> order200 = <span class="function">(<span class="params">orderType, pay, stock</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (orderType === <span class="number">2</span> &amp;&amp; pay) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK! get ï¿¥200"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'nextSuccessor'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> orderNormal = <span class="function">(<span class="params">orderType, pay, stock</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (stock &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK! get ï¿¥0"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's not OK, no stock"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„å»ºèŒè´£é“¾</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chain</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(fn) &#123;</span><br><span class="line">        <span class="keyword">this</span>.fn = fn;</span><br><span class="line">        <span class="keyword">this</span>.successor = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    setNextSuccessor(successor) &#123; <span class="comment">//å°†successorèµ‹å€¼ä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›è¯¥èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">this</span>.successor = successor;</span><br><span class="line">        <span class="keyword">return</span> successor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    passRequest() &#123;</span><br><span class="line">        <span class="comment">//è¿›å…¥å½“å‰èŠ‚ç‚¹çš„å¤„ç†é€»è¾‘</span></span><br><span class="line">        <span class="keyword">let</span> ret = <span class="keyword">this</span>.fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">        <span class="comment">//è‹¥è¿”å›å€¼ä¸º'nextSuccessor'å³ä¸æ»¡è¶³æ‰§è¡Œæ¡ä»¶åˆ™è¿›å…¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å¤„ç†é€»è¾‘</span></span><br><span class="line">        <span class="keyword">if</span> (ret === <span class="string">'nextSuccessor'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.successor &amp;&amp; <span class="keyword">this</span>.successor.passRequest.apply(<span class="keyword">this</span>.successor, <span class="built_in">arguments</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå„ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">let</span> chainOrder500 = <span class="keyword">new</span> Chain(order500);</span><br><span class="line"><span class="keyword">let</span> chainOrder200 = <span class="keyword">new</span> Chain(order200);</span><br><span class="line"><span class="keyword">let</span> chainOrderNormal = <span class="keyword">new</span> Chain(orderNormal);</span><br><span class="line"><span class="comment">//ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹å‘å½“å‰èŠ‚ç‚¹æ·»åŠ ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">chainOrder500.setNextSuccessor(chainOrder200).setNextSuccessor(chainOrderNormal);</span><br><span class="line">chainOrder500.passRequest(<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure></p>
<p>é€šè¿‡è¿™ç§æ–¹å¼æ—¢å®ç°äº†èŒè´£é“¾æ¨¡å¼ï¼Œè®©è¯·æ±‚èƒ½åœ¨å„ä¸ªæ¥æ”¶è€…ä¹‹é—´é“¾å¼è°ƒç”¨ï¼›åˆèƒ½å°†ä¸šåŠ¡ä»£ç å’Œé€»è¾‘ä»£ç æ‹†åˆ†ï¼Œæ¯ä¸ªæ–¹æ³•åªéœ€è¦å…³æ³¨è‡ªå·±çš„æ‰§è¡Œæ¡ä»¶å’Œæ‰§è¡Œé€»è¾‘ï¼Œä¸æ»¡è¶³æ‰§è¡Œæ¡ä»¶è¿”å›ä¸€ä¸ªç‰¹å®šå€¼ï¼Œè€Œä¸ç”¨æ·±ç©¶è¯·æ±‚ä¼ é€’çš„é¡ºåºé—®é¢˜ã€‚<br>åœ¨ä¹‹åçš„ç»´æŠ¤ä¸­ï¼Œå¦‚æœéœ€è¦å¢åŠ åˆ¤æ–­å°±å¯ä»¥ç›´æ¥æ–°å¢ä¸€ä¸ªèŠ‚ç‚¹ç„¶ååœ¨<code>ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹å‘å½“å‰èŠ‚ç‚¹æ·»åŠ ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</code>è¿™ä¸€æ­¥ä¸­ç›¸åº”ä½ç½®æ·»åŠ å³å¯ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> order300 = <span class="function">(<span class="params">orderType, pay, stock</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (orderType === <span class="number">3</span> &amp;&amp; pay) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"It's OK! get ï¿¥300"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'nextSuccessor'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> chainOrder300 = <span class="keyword">new</span> Chain(order300);</span><br><span class="line">chainOrder500</span><br><span class="line">    .setNextSuccessor(chainOrder300)</span><br><span class="line">    .setNextSuccessor(chainOrder200)</span><br><span class="line">    .setNextSuccessor(chainOrderNormal);</span><br></pre></td></tr></table></figure></p>
<h2 id="åœ¨ä¸šåŠ¡ä»£ç ä¸­çš„åº”ç”¨"><a href="#åœ¨ä¸šåŠ¡ä»£ç ä¸­çš„åº”ç”¨" class="headerlink" title="åœ¨ä¸šåŠ¡ä»£ç ä¸­çš„åº”ç”¨"></a>åœ¨ä¸šåŠ¡ä»£ç ä¸­çš„åº”ç”¨</h2><p>ç¿»äº†å¥½ä¹…ä»£ç æ‰æ‰¾åˆ°ä¸€ä¸ª<code>if</code> <code>else</code>åµŒå¥—å¤šä¸€ç‚¹çš„ğŸ™‰ ä¼ªä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">_chooseBtnStyle: <span class="function"><span class="keyword">function</span>(<span class="params">dataInfo</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//ç‰¹å®šå…¥å£è¿›å…¥</span></span><br><span class="line">    <span class="keyword">if</span> (store(<span class="string">'isBoughtEntrance'</span>)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dataInfo.isEffective) &#123;</span><br><span class="line">            <span class="comment">//do something</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//do something</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éç‰¹å®šå…¥å£ä¸”æ»¡è¶³isBoughtå’ŒboughtNum</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (!dataInfo.isEffective &amp;&amp; dataInfo.isBought &amp;&amp; dataInfo.boughtNum) &#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éç‰¹å®šå…¥å£ä¸”æ»¡è¶³isOfficial</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (dataInfo.isOfficial) &#123;</span><br><span class="line">        <span class="comment">//do something</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!dataInfo.isEffective) &#123;</span><br><span class="line">            <span class="comment">//do something</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å°†å„ä¸ª<code>if</code> <code>else</code>é€»è¾‘æ‹†åˆ†ï¼Œä¹‹åçš„ä½¿ç”¨å’Œä¸Šé¢ä¹°æ‰‹æœºçš„å‡ ä¹ä¸€æ ·ã€‚ä¼ªä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> handle1 = <span class="function">(<span class="params">dataInfo</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (store(<span class="string">'isBoughtEntrance'</span>)) &#123;</span><br><span class="line">        <span class="comment">//ç‰¹å®šå…¥å£è¿›å…¥çš„é€»è¾‘</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'nextSuccessor'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> handle2 = <span class="function">(<span class="params">dataInfo</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!dataInfo.isEffective &amp;&amp; dataInfo.isBought &amp;&amp; dataInfo.boughtNum) &#123;</span><br><span class="line">        <span class="comment">//éç‰¹å®šå…¥å£ä¸”æ»¡è¶³isBoughtå’ŒboughtNumçš„é€»è¾‘</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'nextSuccessor'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...ç±»ä¼¼çš„handleN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> chainHandle1 = <span class="keyword">new</span> Chain(handle1);</span><br><span class="line"><span class="comment">//...ç±»ä¼¼çš„åˆ›å»ºèŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">chainHandle1.setNextSuccessor(chainHandle2).setNextSuccessor(chainHandleN);</span><br><span class="line"><span class="comment">//...ç±»ä¼¼çš„æ„å»ºé“¾å¼å…³ç³»</span></span><br><span class="line"></span><br><span class="line">chainHandle1.passRequest(dataInfo);</span><br></pre></td></tr></table></figure></p>
<h2 id="è¿™â€¦è¿™å¯å°±å°´å°¬äº†"><a href="#è¿™â€¦è¿™å¯å°±å°´å°¬äº†" class="headerlink" title="è¿™â€¦è¿™å¯å°±å°´å°¬äº†"></a>è¿™â€¦è¿™å¯å°±å°´å°¬äº†</h2><blockquote>
<p>èŒè´£é“¾æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š</p>
</blockquote>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li><p>èŒè´£é“¾æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯è§£è€¦äº†è¯·æ±‚å‘é€è€…å’ŒNä¸ªæ¥æ”¶è€…ä¹‹é—´çš„å¤æ‚å…³ç³»ã€‚</p>
</li>
<li><p>èŒè´£é“¾å¯ä»¥æ‰‹åŠ¨æŒ‡å®šèµ·å§‹èŠ‚ç‚¹ï¼Œè¯·æ±‚å¹¶ä¸æ˜¯éå¾—ä»é“¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ä¼ é€’ã€‚</p>
</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li><p>ä¸èƒ½ä¿è¯æŸä¸ªè¯·æ±‚ä¸€å®šä¼šè¢«é“¾ä¸­çš„èŠ‚ç‚¹å¤„ç†ï¼Œè¿™ç§æƒ…å†µå¯ä»¥åœ¨é“¾å°¾å¢åŠ ä¸€ä¸ªä¿åº•çš„æ¥å—è€…èŠ‚ç‚¹æ¥å¤„ç†è¿™ç§å³å°†ç¦»å¼€é“¾å°¾çš„è¯·æ±‚ã€‚</p>
</li>
<li><p>ä½¿ç¨‹åºä¸­å¤šäº†å¾ˆå¤šèŠ‚ç‚¹å¯¹è±¡ï¼Œå¯èƒ½å†ä¸€æ¬¡è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†çš„èŠ‚ç‚¹å¹¶æ²¡æœ‰èµ·åˆ°å®è´¨æ€§çš„ä½œç”¨ã€‚ä»–ä»¬çš„ä½œç”¨ä»…ä»…æ˜¯è®©è¯·æ±‚ä¼ é€’ä¸‹å»ï¼Œä»æ€§èƒ½å½“é¢è€ƒè™‘ï¼Œè¦é¿å…è¿‡é•¿çš„èŒè´£é“¾å¸¦<del>åˆ°</del>æ¥çš„æ€§èƒ½æŸè€—ã€‚</p>
</li>
</ul>
<p>è¿‡é•¿çš„èŒè´£é“¾ä¼šå¸¦æ¥æ€§èƒ½æŸè€—ï¼Œç®€å•é€»è¾‘ä¸€èˆ¬åˆç”¨ä¸åˆ°è¿™ä¹ˆå¤æ‚çš„å†™æ³• ğŸ˜…<br>åˆ°åº•ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Œè¿˜å¾—å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!--<ul class="list-inline text-center">-->
                    <!---->

                    <!---->

                    <!---->
                        <!--<li>-->
                            <!--<a href="https://github.com/klugjo/hexo-theme-clean-blog" target="_blank">-->
                                <!--<span class="fa-stack fa-lg">-->
                                    <!--<i class="fa fa-circle fa-stack-2x"></i>-->
                                    <!--<i class="fa fa-github fa-stack-1x fa-inverse"></i>-->
                                <!--</span>-->
                            <!--</a>-->
                        <!--</li>-->
                    <!---->

                    <!---->

                    <!---->

                    <!---->
                <!--</ul>-->
                <p class="copyright text-muted">&copy; 2020 <a href="https://www.liaokun.me" title="you can also contact me with email : liaokun.baba@qq.com">Liao Kun/å»–é”Ÿ</a><br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="https://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>

<!-- Bootstrap -->
<script src="https://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="https://cdn.bootcss.com/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>